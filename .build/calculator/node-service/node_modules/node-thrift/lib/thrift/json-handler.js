


/**
 * @constructor
 * @implements {thrift.IPacketHandler}
 *
 * @param {!thrift.protocol.IProtocol} protocol
 * @param {!thrift.IValueKeeper} keeper
 */
thrift.JsonHandler = function(protocol, keeper) {

  /**
   * @type {!thrift.protocol.IProtocol}
   */
  this.__protocol = protocol;

  /**
   * @type {!thrift.IValueKeeper}
   */
  this.__keeper = keeper;
};


/**
 * @inheritDoc
 */
thrift.JsonHandler.prototype.process = function(cursor, chunk) {
  this.__keeper.processHeader(cursor, chunk);

  if (this.__keeper.isHeaderComplete()) {
    this.__keeper.applyData({}); //body inside
  }

  return cursor.isParsed();
};


/**
 * @inheritDoc
 */
thrift.JsonHandler.prototype.get = function() {
  return this.__keeper.get();
};



/**
 * @return {!yaa.Step}
 */
yaa.collector.array = function() {
  var array = [];

  /**
   * @param {!yaa.CompleteHandler} complete
   * @param {!yaa.ErrorHandler} cancel
   * @param {yaa.Input=} opt_item
   */
  function collector(complete, cancel, opt_item) {
    if (opt_item === undefined) {
      complete(array);
    } else {
      array.push(opt_item);

      complete();
    }
  }

  return collector;
};


/**
 * @return {!yaa.Step}
 */
yaa.collector.flat = function() {
  var array = [];

  /**
   * @param {!yaa.CompleteHandler} complete
   * @param {!yaa.ErrorHandler} cancel
   * @param {!yaa.Input=} opt_args
   */
  function collector(complete, cancel, opt_args) {
    var args = [arguments[2]];
    args = args.slice(0, args.indexOf(undefined));

    if (args.length === 0) {
      complete(array);
    } else {
      array = array.concat(args);
      complete();
    }
  }

  return collector;
};

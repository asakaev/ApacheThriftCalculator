var yaa = require('../../bin/index.js');
var test = require('../test.js');
var cases = [];
var context = {};

module.exports = test(cases, __filename.substr(__dirname.length + 1), context);


/**
 * @param {...yaa.Input} var_args
 * @return {!yaa.Step}
 */
function insert(var_args) {
  var output = arguments;

  /**
   * @param {!yaa.CompleteHandler} complete
   * @param {!yaa.ErrorHandler} cancel
   */
  function insert(complete, cancel) {
    setTimeout(function() {
      complete(output[0], output[1], output[2], output[3], output[4]);
    }, Math.floor(100 * Math.random()));
  }

  return insert;
}


var one = {};
var two = {};
var three = {};
var four = {};
var five = {};




cases.push(yaa.pair(yaa.assert.contextEquals(context, 'Context is correct.'),
    yaa.assert.contextEquals(context, 'Context is correct.')));

cases.push(yaa.assert.outputEquals(
    yaa.nothing(), yaa.pair(yaa.nothing(), yaa.nothing()), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.yes(), yaa.pair(yaa.yes(), yaa.nothing()), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.yes(), yaa.pair(yaa.nothing(), yaa.yes()), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two),
    yaa.pair(insert(one), insert(two)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two),
    yaa.pair(insert(one, two), insert()), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two),
    yaa.pair(insert(), insert(one, two)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(undefined, one, two),
    yaa.pair(insert(), insert(undefined, one, two)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(undefined, one, two),
    yaa.pair(insert(undefined), insert(undefined, one, two)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(undefined, one, two),
    yaa.pair(insert(undefined, undefined), insert(undefined, one, two)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, three),
    yaa.pair(insert(one, two), insert(three)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, undefined, three),
    yaa.pair(insert(one, two), insert(undefined, three, undefined)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, undefined, three),
    yaa.pair(insert(one, two, undefined), insert(undefined, three, undefined)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, undefined, three, four, five),
    yaa.pair(insert(one, two, undefined), insert(undefined, three, four, five)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, three, four, five),
    yaa.pair(insert(one, two, undefined), insert(three, four, five)), 'Pair correct.'));

cases.push(yaa.assert.outputEquals(
    yaa.insert(one, two, three, four, five),
    yaa.pair(insert(one, two), insert(three, four, five)), 'Pair correct.'));

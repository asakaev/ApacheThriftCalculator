


/**
 * @constructor
 * @param {yaa.Context} context
 * @param {!yaa.CompleteHandler} complete
 * @param {!yaa.ErrorHandler} cancel
 * @param {!Arguments} args
 */
yaa.api.client.__Call = function(context, complete, cancel, args) {

  /**
   * @type {!yaa.api.client.__Call}
   */
  this.__next = this;

  /**
   * @type {yaa.Context}
   */
  this.__context = context;

  /**
   * @type {!yaa.CompleteHandler}
   */
  this.__complete = complete;

  /**
   * @type {!yaa.ErrorHandler}
   */
  this.__cancel = cancel;

  /**
   * @type {!Arguments}
   */
  this.__args = args;
};


/**
 * @param {!yaa.Step} step
 */
yaa.api.client.__Call.prototype.apply = function(step) {
  step.call(this.__context, this.__complete, this.__cancel, this.__args[2]);
};


/**
 * @param {!yaa.Error} error
 */
yaa.api.client.__Call.prototype.break = function(error) {
  this.__cancel(error);
};


/**
 * @param {!yaa.api.client.__Call} call
 * @return {!yaa.api.client.__Call}
 */
yaa.api.client.__Call.prototype.push = function(call) {
  return this.__next = call;
};


/**
 * @return {!yaa.api.client.__Call}
 */
yaa.api.client.__Call.prototype.next = function() {
  return this.__next;
};

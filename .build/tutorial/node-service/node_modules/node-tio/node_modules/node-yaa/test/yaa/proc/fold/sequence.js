var yaa = require('../../../../bin/index.js');
var test = require('../../../test.js');
var cases = [];
var context = {};

module.exports = test(cases, __filename.substr(__dirname.length + 1), context);





/**
 * @this {yaa.Context}
 * @param {!yaa.CompleteHandler} complete
 * @param {!yaa.ErrorHandler} cancel
 * @param {...yaa.Input} var_args
 */
function delay(complete, cancel, var_args) {
  setTimeout(complete, Math.floor(1000 * Math.random()), arguments[2]);
}


cases.push(yaa.assert.outputDeepEquals(
    yaa.proc.fold.sequence(
        yaa.use(yaa.collector.array(), delay),
        yaa.iterator.array([1, 2, 3, 4, 5, 6])),

    yaa.insert([1, 2, 3, 4, 5, 6]),
    'Fold ordered.'));
